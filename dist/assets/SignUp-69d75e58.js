import{_ as E,r as f,o as n,c as a,b as p,g as U,m as P,h as w,i as _,u as N,j as S,a as s,t as d,k as l,v as C,l as u,q as c,s as y,x as m,F as I,p as V,e as q}from"./index-b701a59a.js";import{P as j}from"./PasswordProgress-6b9a1458.js";const M={emits:["credential"],data(){return{buttonConfig:{width:270,theme:"filled_blue"}}},methods:{callback(t){this.$emit("credential",t.credential)}}};function O(t,e,v,x,r,i){const g=f("GoogleLogin");return n(),a("main",null,[p(g,{callback:i.callback,"button-config":r.buttonConfig,class:"w-50"},null,8,["callback","button-config"])])}const F=E(M,[["render",O]]);const G={components:{"g-login":F,"password-progress":j},data(){return{gLogin:!1,credential:"",titleForm:"Crea una Cuenta",confirmAccount:!1,...U(w,["recoveryAccount","userObj"]),login:!1,userName:"",email:{valid:!1,text:""},confirmEmail:"",password:"",confirmPassword:"",emailErrorMessage:"",emailConfirmError:"",passwordConfirmError:""}},computed:{...P(w,["confirmAccountCard"])},methods:{..._(w,["createUser","logInUser","createGoogleUser","verifyUser","confirmAccountReq","eventRecoveryAccount"]),..._(N,["addAuthToken"]),async fillCredential(t){if(this.credential=t,this.credential){let e=S(this.credential);this.email.text=e.email,this.userName=e.email.split("@")[0],await this.verifyUser(this.credential)&&await this.createAccount(!0)}else throw new Error("No se pudo verificar el usuario")},async createAccount(t){if(t){const e={name:this.userName,email:this.email.text,token:this.credential},v=await this.createGoogleUser(e);this.addAuthToken(v)}else{const e={userName:this.userName,email:this.email,password:this.password};await this.confirmAccountReq(e)}},async logIn(){const t={email:this.email.text,password:this.password},e=await this.logInUser(t);this.addAuthToken(e)},show(t=""){this.titleForm=t,this.login=!this.login},validEmail(){/^[\w.-]+@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z]{2,10}$/i.test(this.email.text)?(this.email.valid=!0,this.emailErrorMessage=""):(this.email.valid=!1,this.emailErrorMessage="El correo no cumple con las características")},validConfirmEmail(){this.email.text!==this.confirmEmail?this.emailConfirmError="El correo no coindice con el ingresado":this.emailConfirmError=""},passwordChanged(){this.$refs.passProgress.checkPassword()},validPasswordConfirm(){if(this.password!==this.confirmPassword)return this.passwordConfirmError="Las contraseñas no coindicen";this.passwordConfirmError=""}}},h=t=>(V("data-v-8b9bfd64"),t=t(),q(),t),L={class:"d-flex justify-content-center mt-5"},R={class:"col-sm-4 col-12"},T={class:"row"},z={class:"col-sm-12"},B={class:"bs_create_account_layout5 position-relative"},K={class:"container-fluid px-0"},Z={class:"col-lg-12 mx-auto"},D={class:"d-flex justify-center flex-column align-items-center bg-dark-subtle border-0 rounded p-5 bs_signup_content"},H={key:0,class:"ma-0 pa-0"},W={class:"text-secondary h6 bs_fw-300 pb-3 text-white text-center"},Y={class:"mb-3"},J={class:"mb-3"},Q=h(()=>s("button",{type:"submit",class:"btn btn-primary w-100 text-white"}," Iniciar sesión ",-1)),X={class:"pt-3 small mb-0",style:{color:"lightgray"}},$={class:"mb-3"},ee={class:"mb-3"},se={key:0,class:"text-danger"},oe={key:0,class:"mb-3"},te={key:0,class:"text-danger"},re={class:"mb-3"},ie={class:"mb-3"},ne={key:1,class:"text-danger"},ae=h(()=>s("button",{type:"submit",class:"btn btn-primary text-white w-100"}," Crear Cuenta ",-1)),le={class:"small",style:{color:"lightgray"}},ce={key:1},de=h(()=>s("p",null,"Esperando Confirmación de cuenta",-1)),me={key:2},ue={key:0},pe=h(()=>s("p",null," Ingresa el correo electronico de tu cuenta, posteriormente te enviaremos un mensaje para que puedas recuperar tu cuenta ",-1)),fe={key:1};function ve(t,e,v,x,r,i){const g=f("nav-bar"),b=f("g-login"),k=f("password-progress"),A=f("nav-footer");return n(),a(I,null,[p(g),s("div",L,[s("div",R,[s("div",T,[s("div",z,[s("div",B,[s("div",K,[s("div",Z,[s("div",D,[!t.confirmAccountCard.layout&&!t.recoveryAccount.layout?(n(),a("div",H,[s("p",W,d(r.titleForm),1),l(s("form",{class:"py-3 pt-lg-3 w-100 md-mx-w-550",onSubmit:e[4]||(e[4]=u((...o)=>i.logIn&&i.logIn(...o),["prevent"]))},[s("div",Y,[l(s("input",{id:"signup-5-Email","onUpdate:modelValue":e[0]||(e[0]=o=>r.email.text=o),type:"email",class:"form-control text-white",placeholder:"Correo Electrónico",required:""},null,512),[[c,r.email.text]])]),s("div",J,[l(s("input",{id:"signup-5-Password","onUpdate:modelValue":e[1]||(e[1]=o=>r.password=o),type:"password",class:"form-control text-white",placeholder:"Contraseña",required:""},null,512),[[c,r.password]])]),Q,s("a",{class:"py-3",onClick:e[2]||(e[2]=u(o=>t.recoveryAccount.layout=!0,["prevent"]))},"¿Has olvidado tu contraseña?"),p(b,{class:"mt-3 w-100 d-inline-block",onCredential:i.fillCredential},null,8,["onCredential"]),s("p",X,[y(" No tienes una Cuenta? "),s("a",{class:"text-decoration-none",onClick:e[3]||(e[3]=u(o=>i.show("Crea una Cuenta"),["prevent"]))},"Crea una Cuenta")])],544),[[C,r.login]]),l(s("form",{novalidate:"",class:"py-3 pt-lg-3 w-100 md-mx-w-550 needs-validation",onSubmit:e[15]||(e[15]=u(o=>i.createAccount(!1),["prevent"]))},[s("div",$,[l(s("input",{id:"signup-5-name","onUpdate:modelValue":e[5]||(e[5]=o=>r.userName=o),type:"text",class:"form-control text-white",placeholder:"Nombre","aria-describedby":"infotext",required:""},null,512),[[c,r.userName]])]),s("div",ee,[l(s("input",{id:"signup-5-Email","onUpdate:modelValue":e[6]||(e[6]=o=>r.email.text=o),type:"email",class:"form-control text-white",placeholder:"Correo Electrónico",required:"",onKeyup:e[7]||(e[7]=(...o)=>i.validEmail&&i.validEmail(...o))},null,544),[[c,r.email.text]]),r.emailErrorMessage!=""?(n(),a("div",se,d(r.emailErrorMessage),1)):m("",!0)]),r.email.valid?(n(),a("div",oe,[l(s("input",{id:"signup-5-Email","onUpdate:modelValue":e[8]||(e[8]=o=>r.confirmEmail=o),type:"email",class:"form-control text-white",placeholder:"Confirmar Correo Electrónico",required:"",onKeyup:e[9]||(e[9]=(...o)=>i.validConfirmEmail&&i.validConfirmEmail(...o))},null,544),[[c,r.confirmEmail]]),r.emailConfirmError!=""?(n(),a("div",te,d(r.emailConfirmError),1)):m("",!0)])):m("",!0),s("div",re,[l(s("input",{id:"signup-5-Password","onUpdate:modelValue":e[10]||(e[10]=o=>r.password=o),type:"password",class:"form-control text-white",placeholder:"Contraseña",required:"",onKeyup:e[11]||(e[11]=(...o)=>i.passwordChanged&&i.passwordChanged(...o))},null,544),[[c,r.password]])]),p(k,{ref:"passProgress",password:r.password},null,8,["password"]),s("div",ie,[l(s("input",{id:"signup-5-Password","onUpdate:modelValue":e[12]||(e[12]=o=>r.confirmPassword=o),type:"password",class:"form-control text-white",placeholder:"Confirmar Contraseña",required:"",onKeyup:e[13]||(e[13]=(...o)=>i.validPasswordConfirm&&i.validPasswordConfirm(...o))},null,544),[[c,r.confirmPassword]])]),r.passwordConfirmError!==""?(n(),a("div",ne,d(r.passwordConfirmError),1)):m("",!0),ae,p(b,{class:"mt-3 w-100 d-inline-block",onCredential:i.fillCredential},null,8,["onCredential"]),s("p",le,[y(" Ya tienes una cuenta? "),s("a",{class:"text-decoration-none",onClick:e[14]||(e[14]=u(o=>i.show("Iniciar Sesión"),["prevent"]))},"Iniciar sesión")])],544),[[C,!r.login]])])):m("",!0),t.confirmAccountCard.layout?(n(),a("div",ce,[de,s("b",null,d(t.confirmAccountCard.message),1)])):m("",!0),t.recoveryAccount.layout?(n(),a("div",me,[y(d(t.recoveryAccount.message)+" ",1),t.recoveryAccount.message===""?(n(),a("div",ue,[pe,l(s("input",{"onUpdate:modelValue":e[16]||(e[16]=o=>t.userObj.email=o),type:"text",class:"form-control",placeholder:"Correo electronico"},null,512),[[c,t.userObj.email]]),s("button",{class:"btn btn-primary form-control mt-3",onClick:e[17]||(e[17]=u((...o)=>t.eventRecoveryAccount&&t.eventRecoveryAccount(...o),["prevent"]))}," Enviar ")])):(n(),a("div",fe,[s("p",null,d(t.recoveryAccount.message),1)]))])):m("",!0)])])])])])])])]),p(A)],64)}const we=E(G,[["render",ve],["__scopeId","data-v-8b9bfd64"]]);export{we as default};
